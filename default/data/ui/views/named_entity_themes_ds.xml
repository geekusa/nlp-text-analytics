
<dashboard version="2" theme="light">
    <label>Named Entities Copy</label>
    <description></description>
    <definition><![CDATA[
{
	"visualizations": {
		"viz_ATP0vfJP": {
			"type": "splunk.sankey",
			"dataSources": {
				"primary": "ds_6aYbZ1H4"
			},
			"title": "Connections",
			"showProgressBar": true,
			"options": {
				"linkValues": "> primary | seriesByName('count')"
			},
			"containerOptions": {
				"visibility": {
					"hideWhenNoData": true
				}
			}
		}
	},
	"dataSources": {
		"ds_base_search": {
			"type": "ds.search",
			"options": {
				"query": "$master_search$\n| cleantext textfield=$textfield$ base_type=lemma_pos remove_stopwords=t language=$lang$ term_min_len=2\n| eval ne = mvzip(pos_tag,'$textfield$',\",\")\n| eval ne = mvfilter(match(ne,\"NNPS?,\"))\n| rex field=ne mode=sed \"s/[^,]+,([a-z]+)/\\1/\"\n| eval ribbon = if(mvcount(ne)>1,\"co-occurence\",\"singular\")\n| eval outer = ne\n| stats count by ne outer ribbon\n| where NOT (ne==outer AND ribbon==\"co-occurence\")\n| eventstats sum(count) AS total_ribbon by ne ribbon\n| eventstats sum(count) AS total by ne\n| sort -total\n| eval perc_of_total = count/total_ribbon\n| streamstats dc(total) AS order",
				"queryParameters": {
					"earliest": "$time.earliest$",
					"latest": "$time.latest$"
				}
			},
			"name": "ds_base_search"
		},
		"ds_filter": {
			"type": "ds.chain",
			"options": {
				"extend": "ds_base_search",
				"query": "| where order<=$num_ne$ AND perc_of_total>=$zone$"
			},
			"name": "ds_filter"
		},
		"ds_O5UhSHWY": {
			"type": "ds.chain",
			"options": {
				"extend": "ds_filter",
				"query": "| eval ribbon_color = if(ribbon==\"co-occurence\",\"#9C1E5D\",\"#1E5D9C\")\n| table count ne outer ribbon ribbon_color\n| rename ne AS inner"
			},
			"name": "Importance - Unsupported visualization search"
		},
		"ds_6aYbZ1H4": {
			"type": "ds.chain",
			"options": {
				"extend": "ds_filter",
				"query": "| sort -count\n| table ne outer count\n| where ne!=outer"
			},
			"name": "Connections - Sankey diagram search"
		}
	},
	"defaults": {
		"dataSources": {
			"ds.search": {
				"options": {
					"queryParameters": {}
				}
			}
		}
	},
	"inputs": {
		"input_MvYeudVI": {
			"type": "input.timerange",
			"options": {
				"token": "time",
				"defaultValue": "-24h@h,now"
			},
			"title": "Time Range"
		},
		"input_text_long": {
			"type": "input.text",
			"options": {
				"token": "master_search"
			},
			"title": "Text Search (output must be tabular-i.e. ... | table text)"
		},
		"input_WaZH23z4": {
			"type": "input.text",
			"options": {
				"token": "textfield"
			},
			"title": "Text Field"
		},
		"input_IxqI02hp": {
			"type": "input.dropdown",
			"options": {
				"defaultValue": "10",
				"items": [
					{
						"value": "5",
						"label": "5"
					},
					{
						"value": "6",
						"label": "6"
					},
					{
						"value": "7",
						"label": "7"
					},
					{
						"value": "8",
						"label": "8"
					},
					{
						"value": "9",
						"label": "9"
					},
					{
						"value": "10",
						"label": "10"
					},
					{
						"value": "11",
						"label": "11"
					},
					{
						"value": "12",
						"label": "12"
					},
					{
						"value": "13",
						"label": "13"
					},
					{
						"value": "14",
						"label": "14"
					},
					{
						"value": "15",
						"label": "15"
					},
					{
						"value": "16",
						"label": "16"
					},
					{
						"value": "17",
						"label": "17"
					},
					{
						"value": "18",
						"label": "18"
					},
					{
						"value": "19",
						"label": "19"
					},
					{
						"value": "20",
						"label": "20"
					}
				],
				"token": "num_ne"
			},
			"title": "#Named Entities"
		},
		"input_LsVR7xV5": {
			"type": "input.dropdown",
			"options": {
				"defaultValue": "0.02",
				"items": [
					{
						"value": "0.1",
						"label": "Very Small"
					},
					{
						"value": "0.04",
						"label": "Small"
					},
					{
						"value": "0.02",
						"label": "Medium"
					},
					{
						"value": "0.005",
						"label": "Large"
					},
					{
						"value": "0.0001",
						"label": "Very Large"
					}
				],
				"token": "zone"
			},
			"title": "Link Zone Size"
		},
		"input_language_selector": {
			"type": "input.dropdown",
			"options": {
				"defaultValue": "english",
				"items": [
					{
						"value": "english",
						"label": "english"
					},
					{
						"value": "russian",
						"label": "russian"
					},
					{
						"value": "spanish",
						"label": "spanish"
					},
					{
						"value": "german",
						"label": "german"
					},
					{
						"value": "french",
						"label": "french"
					},
					{
						"value": "italian",
						"label": "italian"
					},
					{
						"value": "portuguese",
						"label": "portuguese"
					}
				],
				"token": "lang"
			},
			"title": "Language selection"
		}
	},
	"layout": {
		"type": "grid",
		"options": {
			"submitButton": true,
			"height": 1700,
			"width": 1440
		},
		"structure": [
			{
				"item": "viz_ATP0vfJP",
				"type": "block",
				"position": {
					"x": 0,
					"y": 0,
					"w": 1440,
					"h": 710
				}
			}
		],
		"globalInputs": [
			"input_MvYeudVI",
			"input_text_long",
			"input_WaZH23z4",
			"input_IxqI02hp",
			"input_LsVR7xV5",
			"input_language_selector"
		]
	},
	"description": "",
	"title": "Named Entities Copy"
}
    ]]></definition>
    <meta type="hiddenElements"><![CDATA[
{
	"hideEdit": false,
	"hideOpenInSearch": false,
	"hideExport": false
}
    ]]></meta>
    <meta type="conversionReport"><![CDATA[
{
	"conversionErrors": [
		{
			"type": "nonSplunkSupportedCustomVizType",
			"vizType": "viz_halo.halo",
			"line": 94,
			"convertedId": "viz_qlfpM8WD"
		}
	],
	"conversionWarnings": [
		{
			"type": "unsupportedInputSearchWhenChanged",
			"configName": "searchWhenChanged",
			"configValue": "true",
			"line": 49,
			"inputType": "dropdown",
			"convertedId": "input_IxqI02hp"
		},
		{
			"type": "unsupportedInputSearchWhenChanged",
			"configName": "searchWhenChanged",
			"configValue": "true",
			"line": 69,
			"inputType": "dropdown",
			"convertedId": "input_LsVR7xV5"
		},
		{
			"type": "unsupportedInputSearchWhenChanged",
			"configName": "searchWhenChanged",
			"configValue": "true",
			"line": 79,
			"inputType": "dropdown",
			"convertedId": "input_language_selector"
		},
		{
			"type": "unsupportedOptionGeneric",
			"optionName": "sankey_diagram_app.sankey_diagram.showBackwards",
			"optionValue": "false",
			"line": 121,
			"convertedId": "viz_ATP0vfJP",
			"vizType": "splunk.sankey"
		},
		{
			"type": "unsupportedOptionGeneric",
			"optionName": "sankey_diagram_app.sankey_diagram.showLabels",
			"optionValue": "true",
			"line": 122,
			"convertedId": "viz_ATP0vfJP",
			"vizType": "splunk.sankey"
		},
		{
			"type": "unsupportedOptionGeneric",
			"optionName": "sankey_diagram_app.sankey_diagram.showLegend",
			"optionValue": "true",
			"line": 123,
			"convertedId": "viz_ATP0vfJP",
			"vizType": "splunk.sankey"
		},
		{
			"type": "unsupportedOptionGeneric",
			"optionName": "sankey_diagram_app.sankey_diagram.showSelf",
			"optionValue": "false",
			"line": 124,
			"convertedId": "viz_ATP0vfJP",
			"vizType": "splunk.sankey"
		},
		{
			"type": "unsupportedOptionGeneric",
			"optionName": "sankey_diagram_app.sankey_diagram.showTooltip",
			"optionValue": "false",
			"line": 125,
			"convertedId": "viz_ATP0vfJP",
			"vizType": "splunk.sankey"
		},
		{
			"type": "unsupportedOptionGeneric",
			"optionName": "sankey_diagram_app.sankey_diagram.styleBackwards",
			"optionValue": "false",
			"line": 126,
			"convertedId": "viz_ATP0vfJP",
			"vizType": "splunk.sankey"
		}
	],
	"counts": {
		"visualizations": {
			"count": 2,
			"convertedCount": 1,
			"configCount": 13,
			"convertedConfigCount": 7
		},
		"inputs": {
			"count": 6,
			"convertedCount": 6,
			"configCount": 49,
			"convertedConfigCount": 46
		},
		"searches": {
			"count": 4,
			"convertedCount": 4,
			"configCount": 9,
			"convertedConfigCount": 9
		},
		"dataSources": 4,
		"panels": {
			"count": 2,
			"convertedCount": 2,
			"configCount": 0,
			"convertedConfigCount": 0
		},
		"rows": {
			"count": 2,
			"convertedCount": 2,
			"configCount": 0,
			"convertedConfigCount": 0
		},
		"dashboardLevelConfigs": {
			"count": 1,
			"convertedCount": 1,
			"configCount": 2,
			"convertedConfigCount": 2
		}
	},
	"conversionTime": 1725165257538,
	"originDashboardTitle": "Named Entities",
	"originDashboardId": "named_entity_themes",
	"originDashboardApp": "nlp-text-analytics"
}
    ]]></meta>
</dashboard>